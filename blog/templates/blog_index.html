{% extends "base.html" %}
{% load static %}
{% load tag %}
{% block page_content %}



<div class="row">
                        <!-- <div class="postInfoDate">
                            {{ post.created_on.date }} |&nbsp;Categories:&nbsp;{% for category in post.categories.all %}
                                <a href="{% url 'blog_category' category.name %}">{{ category.name }}</a>&nbsp;
                            {% endfor %}
                        </div> -->

    <div class="col-md-12 gridContainer">
        {% for post in posts %}
            {% if post.image != "null" %}
            <!-- <div class="postWithImage gridItem" style="background-image: url({% static post.image %}) "> -->
            <div class=" gridItem">     
                <div class="topDate">
                    <div class="topDateDay">{{ post.created_on.date.day }}</div>
                    <div class="topDateMonth">{% getDateMonth post.created_on.date %}</div>
                    <div class="topDateYear">{{ post.created_on.date.year }}</div>
                </div> 
                <div class="imageAndTitle">
                    <img src="{% static post.image %}" style="width: 100%" class="postImage" />        
                    <!-- <div class="postInfoDate">
                        {{ post.created_on.date }}
                    </div> -->
                    <div class="postInfoOverlay">                    
                        <div class="postInfoTitle">
                            <a href="{% url 'blog_detail' post.pk%}">{{ post.title }}</a>
                        </div>
                        

                    </div>
                </div> 
                     <div class="postInfoDate">
                            <span style="font-weight: 600">Categories:</span>&nbsp;{% for category in post.categories.all %}
                                <a href="{% url 'blog_category' category.name %}" class="categoryUnderline">{{ category.name }}</a>&nbsp;
                            {% endfor %}
                       </div>
                 <div class="blurb">
                    {{ post.description | slice:":180" }}...
                </div> 
            </div>
            {% else %}
                <div class="gridItem">
                    <div class="topDate topDateNoImg">
                        <div class="topDateDay">{{ post.created_on.date.day }}</div>
                        <div class="topDateMonth">{% getDateMonth post.created_on.date %}</div>
                        <div class="topDateYear">{{ post.created_on.date.year }}</div>
                    </div> 
                    <div class="textOnlyTitle">
                        <a href="{% url 'blog_detail' post.pk%}">{{ post.title }}</a>
                    </div>
                    <div class="postInfoDate postInfoDateTextOnly">
                        <span style="font-weight: 600">Categories:</span>&nbsp;{% for category in post.categories.all %}
                            <a href="{% url 'blog_category' category.name %}" class="categoryUnderline">{{ category.name }}</a>&nbsp;
                        {% endfor %}
                   </div>
                   <div class="blurb">
                    {{ post.description | slice:":180" }}...
                    </div> 
                    <!-- <div class="postInfoDate">
                        {{ post.created_on.date }} |&nbsp;
                        Categories:&nbsp;
                        {% for category in post.categories.all %}
                            <a href="{% url 'blog_category' category.name %}">
                                {{ category.name }}
                            </a>&nbsp;
                        {% endfor %}
                    </div>            
                    <div>{{ post.body | slice:":400" | safe }}...</div> -->
                </div>
            {% endif %}        

        {% endfor %}
    </div>
</div>
{% include "pagination.html" with page=posts %}
{% endblock %}